# 3 курс
# Денисов Александр Александрович
# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/types/ - папка с типизацией данных

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

# Архитектура MVP

Model-View-Presenter (MVP) — архитектурный шаблон, который разделяет приложение на три компонента: модель (данные), представление (UI) и презентатор (бизнес-логика).

## Логика приложения

### Инициализация:

* Загрузка товаров с API (GET /product/)

* Отрисовка главной страницы
### Карточка товара:
* Просмотр подробной информации
* Добавление товара в корзину


### Работа с корзиной:

* Удаление товаров

* Рассчёт общей суммы

#### Валидация данных перед оформлением:

   * Проверка наличия адреса

   * Наличие email и телефона

### Оформление заказа:

* Отправка данных на API (POST /order)

#### Обработка успешного заказа:

* Показ модального окна со статусом заказа

* Очистка корзины

# Классы

## Model

### **Ответственность:**
- Хранение и обработка данных
- Валидация
- Бизнес-логика

---

### `ApiService`
Класс для взаимодействия с сервером.

Методы:
- `getProducts()` — получение списка товаров
- `submitOrder(order)` — отправка заказа

---

### `CartManager`
Класс управления корзиной.

Методы:
- `addItem(product)` — добавление товара
- `removeItem(productId)` — удаление по ID
- `calculateTotalPrice()` — подсчёт общей стоимости
- `getProducts()` — получение списка товаров
- `clear()` — очистка корзины

---

## View

### **Ответственность:**
- Отображение интерфейса
- Обработка пользовательских событий

---

### Родительские классы

#### `View`
Базовый класс для UI-компонентов.

Методы:
- `createElement(tagName, className)` — создание элемента
- `addChild(child)` — добавление в DOM
- `render()` — отрисовка
- `init()` — инициализация компонента

---

#### `Modal` (наследуется от `View`)
Базовый класс для модальных окон.

Методы:
- `setContent(content)` — установка содержимого
- `open()` / `close()` — управление отображением
- `init()` — инициализация

---

### Дочерние классы

#### `HomePageView`
Компонент главной страницы.

Методы:
- `init()` — инициализация страницы
- `renderProducts(products)` — отрисовка списка товаров

---

#### `ProductCardView`
Компонент карточки товара.

Методы:
- `init()` — отрисовка карточки с обработкой событий

---

#### `CartModalView`
Модальное окно корзины.

Методы:
- `init()` — инициализация корзины
- `updateCart(items, total)` — обновление UI корзины и цены

---

#### `CartProductView`
Представление товара внутри корзины.

Методы:
- `init()` — отрисовка товара

---

#### `OrderFormModalView` (Шаг 1)
Форма заказа (ввод адреса и метода оплаты).

Методы:
- `init()` — инициализация
- `onChange()` — обработка изменений
- `validate()` — валидация формы
- `openContactsModal(data)` — переход к следующему шагу

---

#### `SuccessModalView`
Модальное окно успешного оформления заказа.

Методы:
- `init(total)` — отображение финального сообщения

---

## Presenter

### **Ответственность:**
- Посредник между View и Model
- Управление данными и событиями
- Бизнес-логика

---

### `HomePresenter`
Презентер главной страницы.

Методы:
- `init(view, apiService, cartManager)` — инициализация
- `loadProducts(view, apiService)` — загрузка и отображение товаров

---

### `CartPresenter`
Презентер корзины.

Методы:
- `handleUpdateCart()` — обновление корзины

---

### `FormPresenter`
Презентер формы оформления заказа.

Методы:
- `open()` — открытие формы
- `orderProducts()` — отправка заказа
